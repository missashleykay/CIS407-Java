import java.util.Scanner;
import java.util.LinkedList;
import java.util.Queue;

public class TicketingService {

   public static void main(String[] args) {
        Scanner scnr = new Scanner(System.in);
        String personName = "";
        int counter = 0;
        int youPosition = 0;

      Queue<String> peopleInQueue = new LinkedList<String>();
      
      personName = scnr.nextLine();
       while (!personName.equals("-1")) {
            peopleInQueue.add(personName);
            ++counter;
            if (personName.equals("You")) {
                youPosition = counter;
            }
         personName = scnr.nextLine();
      }

      System.out.println("Welcome to the ticketing service... ");
      System.out.println("You are number " + youPosition + " in the queue.");

       for (int i = youPosition - 1; i >= 1; i--) {
            System.out.println(peopleInQueue.remove() + " has purchased a ticket.");
            System.out.println("You are now number " + i);
        }
        System.out.println("You can now purchase your ticket!");
   }
}
